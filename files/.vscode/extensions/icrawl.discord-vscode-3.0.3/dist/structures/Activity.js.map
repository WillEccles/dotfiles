{"version":3,"sources":["structures/Activity.ts"],"names":[],"mappings":";;AAAA,2BAA8B;AAC9B,+BAA4C;AAC5C,mCAMgB;AAChB,MAAM,IAAI,GAAG,OAAO,CAAC,wBAAwB,CAAC,CAAC;AAC/C,MAAM,eAAe,GAAyC,IAAI,CAAC,eAAe,CAAC;AACnF,MAAM,cAAc,GAAa,IAAI,CAAC,cAAc,CAAC;AAErD,MAAM,KAAK,GAAG,cAAc,CAAC;AAC7B,MAAM,KAAK,GAAG,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;AAoBjD,MAAqB,QAAQ;IAA7B;QACS,WAAM,GAAiB,IAAI,CAAC;QAE5B,YAAO,GAAG,kBAAS,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;QAEhD,mBAAc,GAAW,EAAE,CAAC;IA8IrC,CAAC;IA5IA,IAAW,KAAK;QACf,OAAO,IAAI,CAAC,MAAM,CAAC;IACpB,CAAC;IAEM,QAAQ,CAAC,uBAAgC,KAAK;QACpD,IAAI,aAAa,GAAQ,YAAY,CAAC;QACtC,IAAI,eAAM,CAAC,gBAAgB,EAAE;YAC5B,IAAI,eAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,QAAQ,KAAK,IAAI,CAAC,cAAc,EAAE;gBACtE,OAAO,IAAI,CAAC,MAAM,qBACd,IAAI,CAAC,MAAM,IACd,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,gBAAgB,EAAE,aAAa,EAAE,IAAI,CAAC,MAAO,CAAC,aAAa,CAAC,EAC/G,aAAa,EAAE,cAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,YAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,EACnH,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,uBAAuB,EAAE,qBAAqB,EAAE,kBAAkB,EAAE,IAAI,CAAC,MAAO,CAAC,aAAa,CAAC,GAC5H,CAAC;aACF;YACD,IAAI,CAAC,cAAc,GAAG,eAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAChE,MAAM,QAAQ,GAAG,eAAQ,CAAC,eAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YACrE,aAAa,GAAG,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;gBACvE,IAAI,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC;oBAAE,OAAO,IAAI,CAAC;gBAC/D,MAAM,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC;gBAC/C,IAAI,CAAC,KAAK;oBAAE,OAAO,KAAK,CAAC;gBACzB,MAAM,KAAK,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7C,OAAO,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC7B,CAAC,CAAE,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,eAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,eAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;SACpI;QAED,IAAI,iBAAiB,GAAG,IAAI,CAAC;QAC7B,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc;YAAE,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC;QAE3F,IAAI,CAAC,MAAM,GAAG;YACb,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,gBAAgB,EAAE,aAAa,EAAE,aAAa,CAAC;YAClG,cAAc,EAAE,eAAM,CAAC,gBAAgB,IAAI,iBAAiB,IAAI,oBAAoB,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,eAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,IAAI;YAChK,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,uBAAuB,EAAE,qBAAqB,EAAE,kBAAkB,EAAE,aAAa,CAAC;YAC/G,aAAa,EAAE,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,IAAI,aAAa,CAAC,CAAC,CAAC,KAAK;YAC3E,cAAc,EAAE,eAAM,CAAC,gBAAgB;gBACtC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAS,YAAY,CAAE;qBACvC,OAAO,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,IAAI,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC;qBAC/E,OAAO,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,IAAI,aAAa,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAS,EAAE,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;qBAC9I,OAAO,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,IAAI,aAAa,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;uBAC7F,eAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC;gBACnE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAS,gBAAgB,CAAC;YAC7C,aAAa,EAAE,cAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,YAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ;YACnH,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAS,YAAY,CAAE,CAAC,OAAO,CAAC,WAAW,EAAE,YAAG,CAAC,OAAO,CAAC;YACzF,QAAQ,EAAE,KAAK;SACf,CAAC;QAEF,OAAO,IAAI,CAAC,MAAM,CAAC;IACpB,CAAC;IAEM,OAAO;QACb,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;IAC1B,CAAC;IAEO,gBAAgB,CAAC,SAAiB,EAAE,OAAe,EAAE,MAAc,EAAE,aAAkB;QAC9F,IAAI,GAAG,GAAW,IAAI,CAAC,OAAO,CAAC,GAAG,CAAS,MAAM,CAAE,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QAC7E,IAAI,QAAQ,GAAG,IAAI,CAAC;QACpB,IAAI,OAAO,GAAG,IAAI,CAAC;QACnB,IAAI,UAAU,GAAG,KAAK,CAAC;QACvB,IAAI,eAAe,GAAG,IAAI,CAAC;QAC3B,IAAI,WAAW,GAAG,IAAI,CAAC;QACvB,IAAI,eAAM,CAAC,gBAAgB,EAAE;YAC5B,QAAQ,GAAG,eAAQ,CAAC,eAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAE/D,MAAM,EAAE,GAAG,EAAE,GAAG,YAAK,CAAC,eAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YACjE,MAAM,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,UAAG,CAAC,CAAC;YAC7B,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAElC,UAAU,GAAG,OAAO,CAAC,kBAAS,CAAC,kBAAkB,CAAC,eAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;YAEzF,eAAe,GAAG,UAAU,CAAC,CAAC,CAAC,kBAAS,CAAC,kBAAkB,CAAC,eAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YAEzG,IAAI,eAAe,EAAE;gBACpB,MAAM,EAAE,IAAI,EAAE,GAAG,eAAe,CAAC;gBACjC,MAAM,YAAY,GAAG,kBAAS,CAAC,cAAc,CAAC,eAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,UAAG,CAAC,CAAC;gBACpG,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC3B,WAAW,GAAG,GAAG,IAAI,GAAG,UAAG,GAAG,YAAY,CAAC,IAAI,CAAC,UAAG,CAAC,EAAE,CAAC;aACvD;YAED,IAAI,cAAK,CAAC,kBAAkB,EAAE;gBAC7B,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAS,SAAS,CAAE,CAAC;aAC3C;iBAAM;gBACN,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAS,OAAO,CAAE,CAAC;aACzC;YAED,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE,WAAW,EAAE,aAAa,EAAE,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC;YACxF,GAAG,GAAG,GAAI;iBACR,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC;iBACxB,OAAO,CAAC,YAAY,EAAE,QAAQ,CAAC;iBAC/B,OAAO,CAAC,WAAW,EAAE,OAAO,CAAC;iBAC7B,OAAO,CAAC,eAAe,EAAE,WAAY,CAAC;iBACtC,OAAO,CAAC,aAAa,EAAE,UAAU,IAAI,eAAe,CAAC,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAS,sBAAsB,CAAE,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;iBACzJ,OAAO,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,IAAI,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC;iBAC/E,OAAO,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,IAAI,aAAa,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAS,EAAE,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;iBAC9I,OAAO,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,IAAI,aAAa,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YAClG,IAAI,UAAU;gBAAE,GAAG,GAAG,GAAI,CAAC,OAAO,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;YAC/D,IAAI,IAAI;gBAAE,GAAG,GAAG,GAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;YACjD,IAAI,WAAW;gBAAE,GAAG,GAAG,GAAI,CAAC,OAAO,CAAC,eAAe,EAAE,WAAW,CAAC,CAAC;YAClE,IAAI,aAAa;gBAAE,GAAG,GAAG,GAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,aAAa,CAAC,CAAC;SAExE;QAED,OAAO,GAAG,CAAC;IACZ,CAAC;IAEO,oBAAoB,CAAC,GAAY;QACxC,MAAM,UAAU,GAAe,EAAE,CAAC;QAClC,IAAI,CAAC,GAAG;YAAE,OAAO,UAAU,CAAC;QAE5B,IAAI,eAAM,CAAC,gBAAgB,EAAE;YAC5B,IAAI,GAAG,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE;gBACjC,UAAU,CAAC,UAAU,GAAG,eAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;aACpF;YAED,IAAI,GAAG,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;gBAClC,UAAU,CAAC,WAAW,GAAG,CAAC,eAAM,CAAC,gBAAgB,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,cAAc,EAAE,CAAC;aAC9F;YAED,IAAI,GAAG,CAAC,QAAQ,CAAC,iBAAiB,CAAC,EAAE;gBACpC,UAAU,CAAC,aAAa,GAAG,CAAC,eAAM,CAAC,gBAAgB,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,cAAc,EAAE,CAAC;aACrG;YAED,IAAI,GAAG,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;gBAC/B,IAAI,eAAe,GAAG,CAAC,CAAC;gBACxB,IAAI,EAAE,IAAI,EAAE,GAAG,aAAQ,CAAC,eAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBACnE,MAAM,YAAY,GAAG,IAAI,CAAC;gBAC1B,IAAI,YAAY,GAAG,IAAI,EAAE;oBACxB,IAAI,IAAI,IAAI,CAAC;oBACb,eAAe,EAAE,CAAC;oBAClB,OAAO,IAAI,GAAG,IAAI,EAAE;wBACnB,eAAe,EAAE,CAAC;wBAClB,IAAI,IAAI,IAAI,CAAC;qBACb;iBACD;gBACD,UAAU,CAAC,IAAI,GAAG,GAAG,YAAY,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC;aAC7F;SACD;QAED,OAAO,UAAU,CAAC;IACnB,CAAC;CACD;AAnJD,2BAmJC","file":"Activity.js","sourcesContent":["import { statSync } from 'fs';\nimport { basename, parse, sep } from 'path';\nimport {\n\tdebug,\n\tDisposable,\n\tenv,\n\twindow,\n\tworkspace\n} from 'vscode';\nconst lang = require('../data/languages.json');\nconst knownExtentions: { [key: string]: { image: string } } = lang.knownExtentions;\nconst knownLanguages: string[] = lang.knownLanguages;\n\nconst empty = '\\u200b\\u200b';\nconst sizes = [' bytes', 'kb', 'mb', 'gb', 'tb'];\n\ninterface State {\n\tdetails?: string;\n\tstate?: string;\n\tstartTimestamp?: number | null;\n\tlargeImageKey?: string;\n\tlargeImageText?: string;\n\tsmallImageKey?: string;\n\tsmallImageText?: string;\n\tinstance?: boolean;\n}\n\ninterface FileDetail {\n\tsize?: string;\n\ttotalLines?: string;\n\tcurrentLine?: string;\n\tcurrentColumn?: string;\n}\n\nexport default class Activity implements Disposable {\n\tprivate _state: State | null = null;\n\n\tprivate _config = workspace.getConfiguration('discord');\n\n\tprivate _lastKnownFile: string = '';\n\n\tpublic get state() {\n\t\treturn this._state;\n\t}\n\n\tpublic generate(workspaceElapsedTime: boolean = false) {\n\t\tlet largeImageKey: any = 'vscode-big';\n\t\tif (window.activeTextEditor) {\n\t\t\tif (window.activeTextEditor.document.fileName === this._lastKnownFile) {\n\t\t\t\treturn this._state = {\n\t\t\t\t\t...this._state,\n\t\t\t\t\tdetails: this._generateDetails('detailsDebugging', 'detailsEditing', 'detailsIdle', this._state!.largeImageKey),\n\t\t\t\t\tsmallImageKey: debug.activeDebugSession ? 'debug' : env.appName.includes('Insiders') ? 'vscode-insiders' : 'vscode',\n\t\t\t\t\tstate: this._generateDetails('lowerDetailsDebugging', 'lowerDetailsEditing', 'lowerDetailsIdle', this._state!.largeImageKey)\n\t\t\t\t};\n\t\t\t}\n\t\t\tthis._lastKnownFile = window.activeTextEditor.document.fileName;\n\t\t\tconst filename = basename(window.activeTextEditor.document.fileName);\n\t\t\tlargeImageKey = knownExtentions[Object.keys(knownExtentions).find(key => {\n\t\t\t\tif (key.startsWith('.') && filename.endsWith(key)) return true;\n\t\t\t\tconst match = key.match(/^\\/(.*)\\/([mgiy]+)$/);\n\t\t\t\tif (!match) return false;\n\t\t\t\tconst regex = new RegExp(match[1], match[2]);\n\t\t\t\treturn regex.test(filename);\n\t\t\t})!] || (knownLanguages.includes(window.activeTextEditor.document.languageId) ? window.activeTextEditor.document.languageId : null);\n\t\t}\n\n\t\tlet previousTimestamp = null;\n\t\tif (this.state && this.state.startTimestamp) previousTimestamp = this.state.startTimestamp;\n\n\t\tthis._state = {\n\t\t\tdetails: this._generateDetails('detailsDebugging', 'detailsEditing', 'detailsIdle', largeImageKey),\n\t\t\tstartTimestamp: window.activeTextEditor && previousTimestamp && workspaceElapsedTime ? previousTimestamp : window.activeTextEditor ? new Date().getTime() : null,\n\t\t\tstate: this._generateDetails('lowerDetailsDebugging', 'lowerDetailsEditing', 'lowerDetailsIdle', largeImageKey),\n\t\t\tlargeImageKey: largeImageKey ? largeImageKey.image || largeImageKey : 'txt',\n\t\t\tlargeImageText: window.activeTextEditor\n\t\t\t\t? this._config.get<string>('largeImage')!\n\t\t\t\t\t.replace('{lang}', largeImageKey ? largeImageKey.image || largeImageKey : 'txt')\n\t\t\t\t\t.replace('{Lang}', largeImageKey ? (largeImageKey.image || largeImageKey).toLowerCase().replace(/^\\w/, (c: string) => c.toUpperCase()) : 'Txt')\n\t\t\t\t\t.replace('{LANG}', largeImageKey ? (largeImageKey.image || largeImageKey).toUpperCase() : 'TXT')\n\t\t\t\t\t|| window.activeTextEditor.document.languageId.padEnd(2, '\\u200b')\n\t\t\t\t: this._config.get<string>('largeImageIdle'),\n\t\t\tsmallImageKey: debug.activeDebugSession ? 'debug' : env.appName.includes('Insiders') ? 'vscode-insiders' : 'vscode',\n\t\t\tsmallImageText: this._config.get<string>('smallImage')!.replace('{appname}', env.appName),\n\t\t\tinstance: false\n\t\t};\n\n\t\treturn this._state;\n\t}\n\n\tpublic dispose() {\n\t\tthis._state = null;\n\t\tthis._lastKnownFile = '';\n\t}\n\n\tprivate _generateDetails(debugging: string, editing: string, idling: string, largeImageKey: any) {\n\t\tlet raw: string = this._config.get<string>(idling)!.replace('{null}', empty);\n\t\tlet filename = null;\n\t\tlet dirname = null;\n\t\tlet checkState = false;\n\t\tlet workspaceFolder = null;\n\t\tlet fullDirname = null;\n\t\tif (window.activeTextEditor) {\n\t\t\tfilename = basename(window.activeTextEditor.document.fileName);\n\n\t\t\tconst { dir } = parse(window.activeTextEditor.document.fileName);\n\t\t\tconst split = dir.split(sep);\n\t\t\tdirname = split[split.length - 1];\n\n\t\t\tcheckState = Boolean(workspace.getWorkspaceFolder(window.activeTextEditor.document.uri));\n\n\t\t\tworkspaceFolder = checkState ? workspace.getWorkspaceFolder(window.activeTextEditor.document.uri) : null;\n\n\t\t\tif (workspaceFolder) {\n\t\t\t\tconst { name } = workspaceFolder;\n\t\t\t\tconst relativePath = workspace.asRelativePath(window.activeTextEditor.document.fileName).split(sep);\n\t\t\t\trelativePath.splice(-1, 1);\n\t\t\t\tfullDirname = `${name}${sep}${relativePath.join(sep)}`;\n\t\t\t}\n\n\t\t\tif (debug.activeDebugSession) {\n\t\t\t\traw = this._config.get<string>(debugging)!;\n\t\t\t} else {\n\t\t\t\traw = this._config.get<string>(editing)!;\n\t\t\t}\n\n\t\t\tconst { totalLines, size, currentLine, currentColumn } = this._generateFileDetails(raw);\n\t\t\traw = raw!\n\t\t\t\t.replace('{null}', empty)\n\t\t\t\t.replace('{filename}', filename)\n\t\t\t\t.replace('{dirname}', dirname)\n\t\t\t\t.replace('{fulldirname}', fullDirname!)\n\t\t\t\t.replace('{workspace}', checkState && workspaceFolder ? workspaceFolder.name : this._config.get<string>('lowerDetailsNotFound')!.replace('{null}', empty))\n\t\t\t\t.replace('{lang}', largeImageKey ? largeImageKey.image || largeImageKey : 'txt')\n\t\t\t\t.replace('{Lang}', largeImageKey ? (largeImageKey.image || largeImageKey).toLowerCase().replace(/^\\w/, (c: string) => c.toUpperCase()) : 'Txt')\n\t\t\t\t.replace('{LANG}', largeImageKey ? (largeImageKey.image || largeImageKey).toUpperCase() : 'TXT');\n\t\t\tif (totalLines) raw = raw!.replace('{totallines}', totalLines);\n\t\t\tif (size) raw = raw!.replace('{filesize}', size);\n\t\t\tif (currentLine) raw = raw!.replace('{currentline}', currentLine);\n\t\t\tif (currentColumn) raw = raw!.replace('{currentcolumn}', currentColumn);\n\n\t\t}\n\n\t\treturn raw;\n\t}\n\n\tprivate _generateFileDetails(str?: string) {\n\t\tconst fileDetail: FileDetail = {};\n\t\tif (!str) return fileDetail;\n\n\t\tif (window.activeTextEditor) {\n\t\t\tif (str.includes('{totallines}')) {\n\t\t\t\tfileDetail.totalLines = window.activeTextEditor.document.lineCount.toLocaleString();\n\t\t\t}\n\n\t\t\tif (str.includes('{currentline}')) {\n\t\t\t\tfileDetail.currentLine = (window.activeTextEditor.selection.active.line + 1).toLocaleString();\n\t\t\t}\n\n\t\t\tif (str.includes('{currentcolumn}')) {\n\t\t\t\tfileDetail.currentColumn = (window.activeTextEditor.selection.active.character + 1).toLocaleString();\n\t\t\t}\n\n\t\t\tif (str.includes('{filesize}')) {\n\t\t\t\tlet currentDivision = 0;\n\t\t\t\tlet { size } = statSync(window.activeTextEditor.document.fileName);\n\t\t\t\tconst originalSize = size;\n\t\t\t\tif (originalSize > 1000) {\n\t\t\t\t\tsize /= 1000;\n\t\t\t\t\tcurrentDivision++;\n\t\t\t\t\twhile (size > 1000) {\n\t\t\t\t\t\tcurrentDivision++;\n\t\t\t\t\t\tsize /= 1000;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfileDetail.size = `${originalSize > 1000 ? size.toFixed(2) : size}${sizes[currentDivision]}`;\n\t\t\t}\n\t\t}\n\n\t\treturn fileDetail;\n\t}\n}\n"],"sourceRoot":"../../src"}